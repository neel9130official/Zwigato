{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web Development\\\\Projects\\\\zwigato\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport AuthModal from '../parts/AuthModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home({\n  token,\n  onLogin\n}) {\n  _s();\n  const [items, setItems] = useState([]);\n  const [showAuth, setShowAuth] = useState(false);\n  useEffect(() => {\n    API('/items').then(data => setItems(data || []));\n  }, []);\n  const addToCart = async item => {\n    if (!localStorage.getItem('token')) {\n      setShowAuth(true);\n      return;\n    }\n    await API('/cart/add', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        item_id: item.id,\n        quantity: 1\n      })\n    });\n    alert('Added to cart');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: items.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: it.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            minHeight: 40\n          },\n          children: it.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u20B9\", it.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: () => addToCart(it),\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this)]\n      }, it.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), showAuth && /*#__PURE__*/_jsxDEV(AuthModal, {\n      onClose: () => setShowAuth(false),\n      onLogin: onLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"gd104u5QGJH57fhZG4Gb6VWRBxA=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","API","AuthModal","jsxDEV","_jsxDEV","Home","token","onLogin","_s","items","setItems","showAuth","setShowAuth","then","data","addToCart","item","localStorage","getItem","method","headers","body","JSON","stringify","item_id","id","quantity","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","it","name","style","minHeight","description","price","onClick","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web Development/Projects/zwigato/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport AuthModal from '../parts/AuthModal';\n\nexport default function Home({ token, onLogin }){\n  const [items, setItems] = useState([]);\n  const [showAuth, setShowAuth] = useState(false);\n\n  useEffect(()=>{ API('/items').then(data=>setItems(data || [])); },[]);\n\n  const addToCart = async (item) => {\n    if (!localStorage.getItem('token')) { setShowAuth(true); return; }\n    await API('/cart/add', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ item_id: item.id, quantity:1 }) });\n    alert('Added to cart');\n  };\n\n  return (\n    <div>\n      <h2>Menu</h2>\n      <div className=\"grid\">\n        {items.map(it=>(\n          <div key={it.id} className=\"card\">\n            <h4>{it.name}</h4>\n            <p style={{minHeight:40}}>{it.description}</p>\n            <div>â‚¹{it.price}</div>\n            <button className=\"button\" onClick={()=>addToCart(it)}>Add to cart</button>\n          </div>\n        ))}\n      </div>\n      {showAuth && <AuthModal onClose={()=>setShowAuth(false)} onLogin={onLogin} />}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}