{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web Development\\\\Projects\\\\zwigato\\\\frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart({\n  token,\n  onLogin\n}) {\n  _s();\n  const [cart, setCart] = useState({\n    items: []\n  });\n  const load = async () => {\n    const res = await API('/cart');\n    if (res.error && res.error === 'no token') {\n      alert('Please login');\n      return;\n    }\n    setCart(res);\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const checkout = async () => {\n    if (!localStorage.getItem('token')) {\n      alert('login first');\n      return;\n    }\n    const res = await API('/orders/checkout', {\n      method: 'POST'\n    });\n    if (res.ok) {\n      alert('Order placed! OrderId: ' + res.orderId);\n      setCart({\n        items: []\n      });\n    } else alert(res.error || 'checkout failed');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), cart.items && cart.items.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [cart.items.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: it.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 15\n        }, this), \" \\u2014 Qty: \", it.quantity, \" \\u2014 \\u20B9\", it.price]\n      }, it.cart_item_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: checkout,\n        children: \"Checkout (Mock payment)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cart empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"bie6sVwGtPC2xOoGMlvRbrXarDA=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","API","jsxDEV","_jsxDEV","Cart","token","onLogin","_s","cart","setCart","items","load","res","error","alert","checkout","localStorage","getItem","method","ok","orderId","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","it","className","style","marginBottom","name","quantity","price","cart_item_id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web Development/Projects/zwigato/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../api';\n\nexport default function Cart({ token, onLogin }){\n  const [cart, setCart] = useState({ items: [] });\n\n  const load = async ()=> {\n    const res = await API('/cart');\n    if (res.error && res.error==='no token') { alert('Please login'); return; }\n    setCart(res);\n  };\n  useEffect(()=>{ load(); }, []);\n\n  const checkout = async () => {\n    if (!localStorage.getItem('token')) { alert('login first'); return; }\n    const res = await API('/orders/checkout', { method:'POST' });\n    if (res.ok) { alert('Order placed! OrderId: ' + res.orderId); setCart({items:[]}); }\n    else alert(res.error || 'checkout failed');\n  };\n\n  return (\n    <div>\n      <h2>Your Cart</h2>\n      {cart.items && cart.items.length ? (\n        <div>\n          {cart.items.map(it=>(\n            <div key={it.cart_item_id} className=\"card\" style={{marginBottom:8}}>\n              <b>{it.name}</b> — Qty: {it.quantity} — ₹{it.price}\n            </div>\n          ))}\n          <button className=\"button\" onClick={checkout}>Checkout (Mock payment)</button>\n        </div>\n      ) : <p>Cart empty</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}