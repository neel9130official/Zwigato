{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web Development\\\\Projects\\\\zwigato\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\n// // import React, { useEffect, useState } from 'react';\n// // import API from '../api';\n// // import './Profile.css';\n\n// // export default function Profile() {\n// //   const [user, setUser] = useState(null);\n// //   const [orders, setOrders] = useState([]);\n\n// //   useEffect(() => {\n// //     loadProfile();\n// //   }, []);\n\n// //   const loadProfile = async () => {\n// //     const res = await API('/auth/profile');\n// //     if (res.user) {\n// //       setUser(res.user);\n// //       setOrders(res.orders);\n// //     }\n// //   };\n// //   <div className=\"profile-photo-section\">\n// //   <h3>Profile Photo</h3>\n// //   {user.photo ? (\n// //     <img\n// //       src={`${process.env.REACT_APP_API_URL.replace('/api', '')}${user.photo}`}\n// //       alt=\"Profile\"\n// //       className=\"profile-photo\"\n// //     />\n// //   ) : (\n// //     <p>No photo uploaded.</p>\n// //   )}\n// //   <label className=\"upload-btn\">\n// //     Change Photo\n// //     <input\n// //       type=\"file\"\n// //       accept=\"image/*\"\n// //       onChange={async (e) => {\n// //         const fd = new FormData();\n// //         fd.append('photo', e.target.files[0]);\n// //         const res = await fetch(`${process.env.REACT_APP_API_URL}/auth/upload-photo`, {\n// //           method: 'POST',\n// //           headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n// //           body: fd\n// //         }).then((r) => r.json());\n// //         if (res.photo) {\n// //           setUser({ ...user, photo: res.photo });\n// //           alert('‚úÖ Profile photo updated!');\n// //         }\n// //       }}\n// //     />\n// //   </label>\n// // </div>\n\n// //   if (!user) return <p>Loading profile...</p>;\n\n// //   return (\n// //     <div className=\"profile-page\">\n// //       <h2>My Profile</h2>\n\n// //       <div className=\"profile-card\">\n// //         <h3>Personal Details</h3>\n// //         <p><b>Name:</b> {user.name}</p>\n// //         <p><b>Age:</b> {user.age}</p>\n// //         <p><b>Mobile:</b> {user.mobile}</p>\n// //         <p><b>Email:</b> {user.email}</p>\n// //         <p><b>Address:</b> {user.address}</p>\n// //         <p><b>Member Since:</b> {new Date(user.created_at).toLocaleDateString()}</p>\n// //       </div>\n\n// //       <div className=\"order-history\">\n// //         <h3>Order History</h3>\n// //         {orders.length === 0 ? (\n// //           <p>No orders yet.</p>\n// //         ) : (\n// //           orders.map((order) => (\n// //             <div key={order.id} className=\"order-card\">\n// //               <div className=\"order-header\">\n// //                 <span>Order #{order.id}</span>\n// //                 <span>{new Date(order.created_at).toLocaleString()}</span>\n// //               </div>\n// //               <div className=\"order-items\">\n// //                 {order.items.map((it, idx) => (\n// //                   <div key={idx} className=\"order-item\">\n// //                     <span>{it.name}</span>\n// //                     <span>\n// //                       ‚Çπ{it.price} √ó {it.quantity}\n// //                     </span>\n// //                   </div>\n// //                 ))}\n// //               </div>\n// //               <div className=\"order-total\">\n// //                 <b>Total: ‚Çπ{order.total}</b> <span>({order.status})</span>\n// //               </div>\n// //             </div>\n// //           ))\n// //         )}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n// import React, { useEffect, useState } from \"react\";\n// import API from \"../api\";\n// import \"./Profile.css\";\n\n// export default function Profile() {\n//   const [user, setUser] = useState(null);\n//   const [orders, setOrders] = useState([]);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     loadProfile();\n//   }, []);\n\n//   // üîπ Load profile and orders\n// //   const loadProfile = async () => {\n// //     try {\n// //       const res = await API(\"/users/profile\");\n// //       if (res.user) {\n// //         setUser(res.user);\n// //         setOrders(res.orders || []);\n// //       }\n// //     } catch (err) {\n// //       console.error(\"‚ùå Failed to load profile:\", err);\n// //       alert(\"Failed to load profile. Please log in again.\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n// const loadProfile = async () => {\n//   try {\n//     const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\n//       headers: {\n//         Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n//       },\n//     });\n\n//     if (!res.ok) {\n//       throw new Error(\"Failed to fetch profile\");\n//     }\n\n//     const data = await res.json();\n//     if (data.user) {\n//       setUser(data.user);\n//       setOrders(data.orders || []);\n//     } else {\n//       alert(data.message || \"Could not load profile\");\n//     }\n//   } catch (err) {\n//     console.error(\"‚ùå Failed to load profile:\", err);\n//     alert(\"Failed to load profile. Please log in again.\");\n//   } finally {\n//     setLoading(false);\n//   }\n// };\n\n//   // üîπ Handle photo upload\n//   const handlePhotoUpload = async (e) => {\n//     const file = e.target.files[0];\n//     if (!file) return;\n\n//     try {\n//       const fd = new FormData();\n//       fd.append(\"photo\", file);\n\n//       const res = await fetch(\n//         `${process.env.REACT_APP_API_URL}/users/upload-photo`,\n//         {\n//           method: \"POST\",\n//           headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n//           body: fd,\n//         }\n//       ).then((r) => r.json());\n\n//       if (res.photo) {\n//         setUser({ ...user, photo: res.photo });\n//         alert(\"‚úÖ Profile photo updated successfully!\");\n//       } else {\n//         alert(res.message || \"Failed to update photo\");\n//       }\n//     } catch (err) {\n//       console.error(\"‚ùå Upload error:\", err);\n//       alert(\"Something went wrong while uploading photo.\");\n//     }\n//   };\n\n//   if (loading) return <p className=\"loading\">Loading profile...</p>;\n//   if (!user) return <p className=\"loading\">No profile data found.</p>;\n\n//   return (\n//     <div className=\"profile-page\">\n//       <h2 className=\"profile-title\">My Profile</h2>\n\n//       {/* üñº Profile Photo Section */}\n//       <div className=\"profile-photo-section\">\n//         <h3>Profile Photo</h3>\n//         {user?.photo ? (\n//           <img\n//             src={`${process.env.REACT_APP_API_URL.replace(\"/api\", \"\")}${\n//               user.photo\n//             }`}\n//             alt=\"Profile\"\n//             className=\"profile-photo\"\n//           />\n//         ) : (\n//           <p className=\"no-photo\">No photo uploaded.</p>\n//         )}\n\n//         <label className=\"upload-btn\">\n//           Change Photo\n//           <input\n//             type=\"file\"\n//             accept=\"image/*\"\n//             onChange={handlePhotoUpload}\n//             hidden\n//           />\n//         </label>\n//       </div>\n\n//       {/* üßç Personal Details */}\n//       <div className=\"profile-card\">\n//         <h3>Personal Details</h3>\n//         <p>\n//           <b>Name:</b> {user?.name}\n//         </p>\n//         <p>\n//           <b>Age:</b> {user?.age}\n//         </p>\n//         <p>\n//           <b>Mobile:</b> {user?.mobile}\n//         </p>\n//         <p>\n//           <b>Email:</b> {user?.email}\n//         </p>\n//         <p>\n//           <b>Address:</b> {user?.address}\n//         </p>\n//         <p>\n//           <b>Member Since:</b>{\" \"}\n//           {user?.created_at\n//             ? new Date(user.created_at).toLocaleDateString()\n//             : \"N/A\"}\n//         </p>\n//       </div>\n\n//       {/* üõç Order History */}\n//       <div className=\"order-history\">\n//         <h3>Order History</h3>\n//         {orders.length === 0 ? (\n//           <p>No orders yet.</p>\n//         ) : (\n//           orders.map((order) => (\n//             <div key={order.id} className=\"order-card\">\n//               <div className=\"order-header\">\n//                 <span>Order #{order.id}</span>\n//                 <span>\n//                   {new Date(order.created_at).toLocaleString(\"en-IN\")}\n//                 </span>\n//               </div>\n//               <div className=\"order-items\">\n//                 {order.items?.map((it, idx) => (\n//                   <div key={idx} className=\"order-item\">\n//                     <span>{it.name}</span>\n//                     <span>\n//                       ‚Çπ{it.price} √ó {it.quantity}\n//                     </span>\n//                   </div>\n//                 ))}\n//               </div>\n//               <div className=\"order-total\">\n//                 <b>Total: ‚Çπ{order.total}</b>{\" \"}\n//                 <span className={`status ${order.status?.toLowerCase()}`}>\n//                   ({order.status})\n//                 </span>\n//               </div>\n//             </div>\n//           ))\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\nimport React, { useEffect, useState } from \"react\";\nimport \"./Profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  // const loadProfile = async () => {\n  //     try {\n  //         console.log(\"üü¢ Fetching profile from:\", `${process.env.REACT_APP_API_URL}/users/profile`);\n\n  //         //   const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\n  //         //     headers: {\n  //         //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //         //     },\n  //         //   });\n  //         const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\n  //             headers: {\n  //                 Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //             },\n  //         });\n\n  //         if (!res.ok) {\n  //             throw new Error(\"Failed to fetch profile\");\n  //         }\n\n  //         const data = await res.json();\n  //         console.log(\"‚úÖ Profile Data:\", data);\n\n  //         if (data.user) {\n  //             setUser(data.user);\n  //             setOrders(data.orders || []);\n  //         } else {\n  //             alert(data.message || \"Could not load profile\");\n  //         }\n  //     } catch (err) {\n  //         console.error(\"‚ùå Failed to load profile:\", err);\n  //         alert(\"Failed to load profile. Please log in again.\");\n  //     } finally {\n  //         setLoading(false);\n  //     }\n  // };\n  const loadProfile = async () => {\n    try {\n      const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        alert(\"Please log in again.\");\n        return;\n      }\n      console.log(\"üåê Fetching profile from:\", `${apiUrl}/users/profile`);\n      console.log(\"üîê Using token:\", token);\n      const res = await fetch(`${apiUrl}/users/profile`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        const errText = await res.text();\n        console.error(\"‚ùå Backend error response:\", errText);\n        throw new Error(`Server error ${res.status}: ${errText}`);\n      }\n      const data = await res.json();\n      console.log(\"‚úÖ Profile data received:\", data);\n      if (data.user) {\n        setUser(data.user);\n        setOrders(data.orders || []);\n      } else {\n        throw new Error(\"Invalid profile response\");\n      }\n    } catch (err) {\n      console.error(\"‚ùå Failed to load profile:\", err);\n      alert(\"Failed to load profile. Please log in again.\");\n    }\n  };\n  const handlePhotoUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const fd = new FormData();\n    fd.append(\"photo\", file);\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/users/upload-photo`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: fd\n      });\n      const data = await res.json();\n      if (data.photo) {\n        setUser({\n          ...user,\n          photo: data.photo\n        });\n        alert(\"‚úÖ Profile photo updated!\");\n      } else {\n        alert(data.message || \"Upload failed\");\n      }\n    } catch (err) {\n      console.error(\"‚ùå Upload failed:\", err);\n      alert(\"Error uploading photo\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading profile...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 401,\n    columnNumber: 25\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: \"red\",\n      textAlign: \"center\",\n      marginTop: \"40px\"\n    },\n    children: \"Failed to load profile. Please log in again.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 405,\n    columnNumber: 13\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-photo-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Profile Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this), user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${process.env.REACT_APP_API_URL.replace(\"/api\", \"\")}${user.photo}`,\n        alt: \"Profile\",\n        className: \"profile-photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No photo uploaded.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"upload-btn\",\n        children: [\"Change Photo\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handlePhotoUpload,\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Personal Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 20\n        }, this), \" \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Age:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 20\n        }, this), \" \", user.age]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Mobile:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 20\n        }, this), \" \", user.mobile]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 20\n        }, this), \" \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 20\n        }, this), \" \", user.address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Member Since:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 20\n        }, this), \" \", new Date(user.created_at).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Order History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }, this), orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No orders yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 21\n      }, this) : orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Order #\", order.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(order.created_at).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-items\",\n          children: order.items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: it.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B9\", it.price, \" \\xD7 \", it.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 41\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-total\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Total: \\u20B9\", order.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 33\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"(\", order.status, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 62\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 29\n        }, this)]\n      }, order.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 411,\n    columnNumber: 9\n  }, this);\n}\n_s(Profile, \"CPI5uLAEul/OVvCTW8u5egIaX5Q=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Profile","_s","user","setUser","orders","setOrders","loading","setLoading","loadProfile","apiUrl","process","env","REACT_APP_API_URL","token","localStorage","getItem","alert","console","log","res","fetch","method","headers","Authorization","ok","errText","text","error","Error","status","data","json","err","handlePhotoUpload","e","file","target","files","fd","FormData","append","body","photo","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","textAlign","marginTop","className","src","replace","alt","type","accept","onChange","hidden","name","age","mobile","email","address","Date","created_at","toLocaleDateString","length","map","order","id","toLocaleString","items","it","idx","price","quantity","total","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web Development/Projects/zwigato/frontend/src/pages/Profile.js"],"sourcesContent":["// // import React, { useEffect, useState } from 'react';\r\n// // import API from '../api';\r\n// // import './Profile.css';\r\n\r\n// // export default function Profile() {\r\n// //   const [user, setUser] = useState(null);\r\n// //   const [orders, setOrders] = useState([]);\r\n\r\n// //   useEffect(() => {\r\n// //     loadProfile();\r\n// //   }, []);\r\n\r\n// //   const loadProfile = async () => {\r\n// //     const res = await API('/auth/profile');\r\n// //     if (res.user) {\r\n// //       setUser(res.user);\r\n// //       setOrders(res.orders);\r\n// //     }\r\n// //   };\r\n// //   <div className=\"profile-photo-section\">\r\n// //   <h3>Profile Photo</h3>\r\n// //   {user.photo ? (\r\n// //     <img\r\n// //       src={`${process.env.REACT_APP_API_URL.replace('/api', '')}${user.photo}`}\r\n// //       alt=\"Profile\"\r\n// //       className=\"profile-photo\"\r\n// //     />\r\n// //   ) : (\r\n// //     <p>No photo uploaded.</p>\r\n// //   )}\r\n// //   <label className=\"upload-btn\">\r\n// //     Change Photo\r\n// //     <input\r\n// //       type=\"file\"\r\n// //       accept=\"image/*\"\r\n// //       onChange={async (e) => {\r\n// //         const fd = new FormData();\r\n// //         fd.append('photo', e.target.files[0]);\r\n// //         const res = await fetch(`${process.env.REACT_APP_API_URL}/auth/upload-photo`, {\r\n// //           method: 'POST',\r\n// //           headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n// //           body: fd\r\n// //         }).then((r) => r.json());\r\n// //         if (res.photo) {\r\n// //           setUser({ ...user, photo: res.photo });\r\n// //           alert('‚úÖ Profile photo updated!');\r\n// //         }\r\n// //       }}\r\n// //     />\r\n// //   </label>\r\n// // </div>\r\n\r\n\r\n// //   if (!user) return <p>Loading profile...</p>;\r\n\r\n// //   return (\r\n// //     <div className=\"profile-page\">\r\n// //       <h2>My Profile</h2>\r\n\r\n// //       <div className=\"profile-card\">\r\n// //         <h3>Personal Details</h3>\r\n// //         <p><b>Name:</b> {user.name}</p>\r\n// //         <p><b>Age:</b> {user.age}</p>\r\n// //         <p><b>Mobile:</b> {user.mobile}</p>\r\n// //         <p><b>Email:</b> {user.email}</p>\r\n// //         <p><b>Address:</b> {user.address}</p>\r\n// //         <p><b>Member Since:</b> {new Date(user.created_at).toLocaleDateString()}</p>\r\n// //       </div>\r\n\r\n// //       <div className=\"order-history\">\r\n// //         <h3>Order History</h3>\r\n// //         {orders.length === 0 ? (\r\n// //           <p>No orders yet.</p>\r\n// //         ) : (\r\n// //           orders.map((order) => (\r\n// //             <div key={order.id} className=\"order-card\">\r\n// //               <div className=\"order-header\">\r\n// //                 <span>Order #{order.id}</span>\r\n// //                 <span>{new Date(order.created_at).toLocaleString()}</span>\r\n// //               </div>\r\n// //               <div className=\"order-items\">\r\n// //                 {order.items.map((it, idx) => (\r\n// //                   <div key={idx} className=\"order-item\">\r\n// //                     <span>{it.name}</span>\r\n// //                     <span>\r\n// //                       ‚Çπ{it.price} √ó {it.quantity}\r\n// //                     </span>\r\n// //                   </div>\r\n// //                 ))}\r\n// //               </div>\r\n// //               <div className=\"order-total\">\r\n// //                 <b>Total: ‚Çπ{order.total}</b> <span>({order.status})</span>\r\n// //               </div>\r\n// //             </div>\r\n// //           ))\r\n// //         )}\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // }\r\n// import React, { useEffect, useState } from \"react\";\r\n// import API from \"../api\";\r\n// import \"./Profile.css\";\r\n\r\n// export default function Profile() {\r\n//   const [user, setUser] = useState(null);\r\n//   const [orders, setOrders] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     loadProfile();\r\n//   }, []);\r\n\r\n//   // üîπ Load profile and orders\r\n// //   const loadProfile = async () => {\r\n// //     try {\r\n// //       const res = await API(\"/users/profile\");\r\n// //       if (res.user) {\r\n// //         setUser(res.user);\r\n// //         setOrders(res.orders || []);\r\n// //       }\r\n// //     } catch (err) {\r\n// //       console.error(\"‚ùå Failed to load profile:\", err);\r\n// //       alert(\"Failed to load profile. Please log in again.\");\r\n// //     } finally {\r\n// //       setLoading(false);\r\n// //     }\r\n// //   };\r\n// const loadProfile = async () => {\r\n//   try {\r\n//     const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\r\n//       headers: {\r\n//         Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n//       },\r\n//     });\r\n\r\n//     if (!res.ok) {\r\n//       throw new Error(\"Failed to fetch profile\");\r\n//     }\r\n\r\n//     const data = await res.json();\r\n//     if (data.user) {\r\n//       setUser(data.user);\r\n//       setOrders(data.orders || []);\r\n//     } else {\r\n//       alert(data.message || \"Could not load profile\");\r\n//     }\r\n//   } catch (err) {\r\n//     console.error(\"‚ùå Failed to load profile:\", err);\r\n//     alert(\"Failed to load profile. Please log in again.\");\r\n//   } finally {\r\n//     setLoading(false);\r\n//   }\r\n// };\r\n\r\n\r\n//   // üîπ Handle photo upload\r\n//   const handlePhotoUpload = async (e) => {\r\n//     const file = e.target.files[0];\r\n//     if (!file) return;\r\n\r\n//     try {\r\n//       const fd = new FormData();\r\n//       fd.append(\"photo\", file);\r\n\r\n//       const res = await fetch(\r\n//         `${process.env.REACT_APP_API_URL}/users/upload-photo`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n//           body: fd,\r\n//         }\r\n//       ).then((r) => r.json());\r\n\r\n//       if (res.photo) {\r\n//         setUser({ ...user, photo: res.photo });\r\n//         alert(\"‚úÖ Profile photo updated successfully!\");\r\n//       } else {\r\n//         alert(res.message || \"Failed to update photo\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"‚ùå Upload error:\", err);\r\n//       alert(\"Something went wrong while uploading photo.\");\r\n//     }\r\n//   };\r\n\r\n//   if (loading) return <p className=\"loading\">Loading profile...</p>;\r\n//   if (!user) return <p className=\"loading\">No profile data found.</p>;\r\n\r\n//   return (\r\n//     <div className=\"profile-page\">\r\n//       <h2 className=\"profile-title\">My Profile</h2>\r\n\r\n//       {/* üñº Profile Photo Section */}\r\n//       <div className=\"profile-photo-section\">\r\n//         <h3>Profile Photo</h3>\r\n//         {user?.photo ? (\r\n//           <img\r\n//             src={`${process.env.REACT_APP_API_URL.replace(\"/api\", \"\")}${\r\n//               user.photo\r\n//             }`}\r\n//             alt=\"Profile\"\r\n//             className=\"profile-photo\"\r\n//           />\r\n//         ) : (\r\n//           <p className=\"no-photo\">No photo uploaded.</p>\r\n//         )}\r\n\r\n//         <label className=\"upload-btn\">\r\n//           Change Photo\r\n//           <input\r\n//             type=\"file\"\r\n//             accept=\"image/*\"\r\n//             onChange={handlePhotoUpload}\r\n//             hidden\r\n//           />\r\n//         </label>\r\n//       </div>\r\n\r\n//       {/* üßç Personal Details */}\r\n//       <div className=\"profile-card\">\r\n//         <h3>Personal Details</h3>\r\n//         <p>\r\n//           <b>Name:</b> {user?.name}\r\n//         </p>\r\n//         <p>\r\n//           <b>Age:</b> {user?.age}\r\n//         </p>\r\n//         <p>\r\n//           <b>Mobile:</b> {user?.mobile}\r\n//         </p>\r\n//         <p>\r\n//           <b>Email:</b> {user?.email}\r\n//         </p>\r\n//         <p>\r\n//           <b>Address:</b> {user?.address}\r\n//         </p>\r\n//         <p>\r\n//           <b>Member Since:</b>{\" \"}\r\n//           {user?.created_at\r\n//             ? new Date(user.created_at).toLocaleDateString()\r\n//             : \"N/A\"}\r\n//         </p>\r\n//       </div>\r\n\r\n//       {/* üõç Order History */}\r\n//       <div className=\"order-history\">\r\n//         <h3>Order History</h3>\r\n//         {orders.length === 0 ? (\r\n//           <p>No orders yet.</p>\r\n//         ) : (\r\n//           orders.map((order) => (\r\n//             <div key={order.id} className=\"order-card\">\r\n//               <div className=\"order-header\">\r\n//                 <span>Order #{order.id}</span>\r\n//                 <span>\r\n//                   {new Date(order.created_at).toLocaleString(\"en-IN\")}\r\n//                 </span>\r\n//               </div>\r\n//               <div className=\"order-items\">\r\n//                 {order.items?.map((it, idx) => (\r\n//                   <div key={idx} className=\"order-item\">\r\n//                     <span>{it.name}</span>\r\n//                     <span>\r\n//                       ‚Çπ{it.price} √ó {it.quantity}\r\n//                     </span>\r\n//                   </div>\r\n//                 ))}\r\n//               </div>\r\n//               <div className=\"order-total\">\r\n//                 <b>Total: ‚Çπ{order.total}</b>{\" \"}\r\n//                 <span className={`status ${order.status?.toLowerCase()}`}>\r\n//                   ({order.status})\r\n//                 </span>\r\n//               </div>\r\n//             </div>\r\n//           ))\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./Profile.css\";\r\n\r\nexport default function Profile() {\r\n    const [user, setUser] = useState(null);\r\n    const [orders, setOrders] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, []);\r\n\r\n    // const loadProfile = async () => {\r\n    //     try {\r\n    //         console.log(\"üü¢ Fetching profile from:\", `${process.env.REACT_APP_API_URL}/users/profile`);\r\n\r\n    //         //   const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\r\n    //         //     headers: {\r\n    //         //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    //         //     },\r\n    //         //   });\r\n    //         const res = await fetch(`${process.env.REACT_APP_API_URL}/users/profile`, {\r\n    //             headers: {\r\n    //                 Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    //             },\r\n    //         });\r\n\r\n\r\n    //         if (!res.ok) {\r\n    //             throw new Error(\"Failed to fetch profile\");\r\n    //         }\r\n\r\n    //         const data = await res.json();\r\n    //         console.log(\"‚úÖ Profile Data:\", data);\r\n\r\n    //         if (data.user) {\r\n    //             setUser(data.user);\r\n    //             setOrders(data.orders || []);\r\n    //         } else {\r\n    //             alert(data.message || \"Could not load profile\");\r\n    //         }\r\n    //     } catch (err) {\r\n    //         console.error(\"‚ùå Failed to load profile:\", err);\r\n    //         alert(\"Failed to load profile. Please log in again.\");\r\n    //     } finally {\r\n    //         setLoading(false);\r\n    //     }\r\n    // };\r\nconst loadProfile = async () => {\r\n  try {\r\n    const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      alert(\"Please log in again.\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"üåê Fetching profile from:\", `${apiUrl}/users/profile`);\r\n    console.log(\"üîê Using token:\", token);\r\n\r\n    const res = await fetch(`${apiUrl}/users/profile`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const errText = await res.text();\r\n      console.error(\"‚ùå Backend error response:\", errText);\r\n      throw new Error(`Server error ${res.status}: ${errText}`);\r\n    }\r\n\r\n    const data = await res.json();\r\n    console.log(\"‚úÖ Profile data received:\", data);\r\n\r\n    if (data.user) {\r\n      setUser(data.user);\r\n      setOrders(data.orders || []);\r\n    } else {\r\n      throw new Error(\"Invalid profile response\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"‚ùå Failed to load profile:\", err);\r\n    alert(\"Failed to load profile. Please log in again.\");\r\n  }\r\n};\r\n\r\n    const handlePhotoUpload = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        const fd = new FormData();\r\n        fd.append(\"photo\", file);\r\n\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/users/upload-photo`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n                },\r\n                body: fd,\r\n            });\r\n\r\n            const data = await res.json();\r\n            if (data.photo) {\r\n                setUser({ ...user, photo: data.photo });\r\n                alert(\"‚úÖ Profile photo updated!\");\r\n            } else {\r\n                alert(data.message || \"Upload failed\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"‚ùå Upload failed:\", err);\r\n            alert(\"Error uploading photo\");\r\n        }\r\n    };\r\n\r\n    if (loading) return <p>Loading profile...</p>;\r\n\r\n    if (!user)\r\n        return (\r\n            <p style={{ color: \"red\", textAlign: \"center\", marginTop: \"40px\" }}>\r\n                Failed to load profile. Please log in again.\r\n            </p>\r\n        );\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            <h2>My Profile</h2>\r\n\r\n            <div className=\"profile-photo-section\">\r\n                <h3>Profile Photo</h3>\r\n                {user.photo ? (\r\n                    <img\r\n                        src={`${process.env.REACT_APP_API_URL.replace(\"/api\", \"\")}${user.photo}`}\r\n                        alt=\"Profile\"\r\n                        className=\"profile-photo\"\r\n                    />\r\n                ) : (\r\n                    <p>No photo uploaded.</p>\r\n                )}\r\n                <label className=\"upload-btn\">\r\n                    Change Photo\r\n                    <input type=\"file\" accept=\"image/*\" onChange={handlePhotoUpload} hidden />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"profile-card\">\r\n                <h3>Personal Details</h3>\r\n                <p><b>Name:</b> {user.name}</p>\r\n                <p><b>Age:</b> {user.age}</p>\r\n                <p><b>Mobile:</b> {user.mobile}</p>\r\n                <p><b>Email:</b> {user.email}</p>\r\n                <p><b>Address:</b> {user.address}</p>\r\n                <p><b>Member Since:</b> {new Date(user.created_at).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            <div className=\"order-history\">\r\n                <h3>Order History</h3>\r\n                {orders.length === 0 ? (\r\n                    <p>No orders yet.</p>\r\n                ) : (\r\n                    orders.map((order) => (\r\n                        <div key={order.id} className=\"order-card\">\r\n                            <div className=\"order-header\">\r\n                                <span>Order #{order.id}</span>\r\n                                <span>{new Date(order.created_at).toLocaleString()}</span>\r\n                            </div>\r\n                            <div className=\"order-items\">\r\n                                {order.items.map((it, idx) => (\r\n                                    <div key={idx} className=\"order-item\">\r\n                                        <span>{it.name}</span>\r\n                                        <span>\r\n                                            ‚Çπ{it.price} √ó {it.quantity}\r\n                                        </span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"order-total\">\r\n                                <b>Total: ‚Çπ{order.total}</b> <span>({order.status})</span>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}